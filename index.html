<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Content Security Policy ููุญูุงูุฉ ูู XSS -->
    <meta http-equiv="Content-Security-Policy" content="
        default-src 'self';
        script-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com;
        style-src 'self' 'unsafe-inline' https://fonts.googleapis.com https://cdnjs.cloudflare.com;
        font-src https://fonts.gstatic.com;
        img-src 'self' data: blob:;
        connect-src 'self' https://mega.nz https://httpbin.org;
        frame-src 'self' blob: https://mega.nz;
        object-src 'none';
        base-uri 'self';
        form-action 'self';
    ">
    
    <!-- Headers ุฃูููุฉ ุฅุถุงููุฉ -->
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-Frame-Options" content="SAMEORIGIN">
    <meta http-equiv="X-XSS-Protection" content="1; mode=block">
    <meta name="referrer" content="strict-origin-when-cross-origin">
    
    <title>ุฅูุฑุฃ ูุนูุง | ููุชุจุชู ุงูุฑูููุฉ ุงูุขููุฉ ูุน MEGA</title>
    <meta name="description" content="ููุชุจุฉ ุฑูููุฉ ุขููุฉ ููุชุทูุฑุฉ ูุฅุฏุงุฑุฉ ููุดุงุฑูุฉ ุงููุชุจ ูุงููููุงุช ูุน ุชุฎุฒูู MEGA ุงูุณุญุงุจู ุงููุญูู">
    <meta name="keywords" content="ููุชุจุฉ, ูุชุจ, PDF, ูุฑุงุกุฉ, ุชุนููู, ุฅูุฑุฃ ูุนูุง, ุขูู, MEGA, ุชุฎุฒูู ุณุญุงุจู">
    <meta name="author" content="ูุฑูู ุฅูุฑุฃ ูุนูุง">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="ุฅูุฑุฃ ูุนูุง - ููุชุจุชู ุงูุฑูููุฉ ุงูุขููุฉ ูุน MEGA">
    <meta property="og:description" content="ุงูุชุดู ุนุงูู ุงููุนุฑูุฉ ูุน ููุชุจุชูุง ุงูุฑูููุฉ ุงููุชุทูุฑุฉ ูุงูุขููุฉ ุงููุฏุนููุฉ ุจู MEGA">
    <meta property="og:type" content="website">
    <meta property="og:image" content="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>๐๐</text></svg>">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>๐๐</text></svg>">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700&family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome ูุน ุงูุชุญูู ูู ุงููุฒุงูุฉ -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" 
          integrity="sha512-Avb2QiuDEEvB4bZJYdft2mNjVShBftLdPG8FJ0V7irTLQ8Uo0qcPxh4Plq7G5tGm0rU+1SPhVotteLpBERwTkw==" 
          crossorigin="anonymous" 
          referrerpolicy="no-referrer">
    
    <!-- CSS -->
    <link rel="stylesheet" href="styles.css">
    
    <!-- Preload Critical Resources -->
    <link rel="preload" href="script.js" as="script">
    <link rel="preload" href="styles.css" as="style">
    
    <!-- ุญูุงูุฉ ูู DevTools ูุชุณุฑูุจ ุงููุนูููุงุช ุงูุญุณุงุณุฉ -->
    <script>
        // ููุน ูุญุต ูููุฉ ุงููุฑูุฑ ูู console
        const originalConsole = console.log;
        console.log = function(...args) {
            const message = args.join(' ').toLowerCase();
            if (message.includes('password') || 
                message.includes('admin') ||
                message.includes('mega') ||
                message.includes('credential')) {
                return;
            }
            originalConsole.apply(console, args);
        };

        // ุญูุงูุฉ ูู DevTools
        let devtools = {open: false, orientation: null};
        const threshold = 160;
        setInterval(() => {
            if (window.outerHeight - window.innerHeight > threshold || 
                window.outerWidth - window.innerWidth > threshold) {
                devtools.open = true;
                devtools.orientation = window.outerHeight - window.innerHeight > threshold ? 'vertical' : 'horizontal';
                document.body.style.display = 'none';
                document.body.innerHTML = '<div style="text-align:center;padding:100px;font-size:2rem;color:#dc2626;font-family:Arial;">๐ ูุถุน ุงูุญูุงูุฉ ูุดุท<br><small style="font-size:1rem;">ูุฑุฌู ุฅุบูุงู ุฃุฏูุงุช ุงููุทูุฑ</small></div>';
            } else {
                if (devtools.open) {
                    location.reload();
                }
                devtools.open = false;
            }
        }, 500);

        // ููุน ุงูููุฑ ุจุงูุฒุฑ ุงูุฃููู
        document.addEventListener('contextmenu', function(e) {
            e.preventDefault();
            return false;
        });

        // ููุน ุงุฎุชุตุงุฑุงุช ููุญุฉ ุงูููุงุชูุญ ุงูุฎุทูุฑุฉ
        document.addEventListener('keydown', function(e) {
            if (e.key === 'F12' || 
                (e.ctrlKey && e.shiftKey && e.key === 'I') ||
                (e.ctrlKey && e.key === 'u') ||
                (e.ctrlKey && e.key === 's')) {
                e.preventDefault();
                return false;
            }
        });

        // ุญูุงูุฉ Object ูู ุงูุชูุงุนุจ
        Object.freeze(Object.prototype);
        Object.freeze(Array.prototype);
    </script>
</head>
<body>
    <div class="container">
        <!-- Security Status Indicator -->
        <div class="security-status" id="securityStatus">
            <i class="fas fa-shield-alt" aria-hidden="true"></i>
            <span>ุงููุธุงู ุขูู ููุญูู ูุน MEGA</span>
        </div>

        <!-- Header -->
        <header class="header" role="banner">
            <div class="header-content">
                <div class="logo">
                    <h1 id="mainTitle">๐๐ ุฅูุฑุฃ ูุนูุง</h1>
                    <p class="tagline">ููุชุจุชู ุงูุฑูููุฉ ุงูุขููุฉ ูุน MEGA Cloud</p>
                    <div class="subtitle">ููุตุฉ ูุญุณูุฉ ุจุฃุญุฏุซ ูุนุงููุฑ ุงูุฃูุงู ุงูุฑููู ูุน ุชุฎุฒูู MEGA ุงูุณุญุงุจู ุงููุญูู</div>
                </div>
                
                <nav class="auth-section" role="navigation" aria-label="ุชุณุฌูู ุงูุฏุฎูู">
                    <button class="auth-btn" 
                            onclick="showLoginModal('admin')" 
                            data-action="admin-login"
                            aria-label="ุฏุฎูู ุงูุฃุฏูู ุงูุขูู">
                        <i class="fas fa-shield-alt" aria-hidden="true"></i>
                        <span>ุฏุฎูู ุงูุฃุฏูู ุงูุขูู</span>
                    </button>
                    <button class="auth-btn" 
                            onclick="showLoginModal('moderator')" 
                            data-action="moderator-login"
                            aria-label="ุฏุฎูู ุงููุดุฑููู">
                        <i class="fas fa-user-shield" aria-hidden="true"></i>
                        <span>ุฏุฎูู ุงููุดุฑููู</span>
                    </button>
                    <button class="auth-btn logout-btn" 
                            id="logoutBtn" 
                            onclick="logout()" 
                            style="display: none;"
                            aria-label="ุชุณุฌูู ุงูุฎุฑูุฌ ุงูุขูู">
                        <i class="fas fa-sign-out-alt" aria-hidden="true"></i>
                        <span>ุชุณุฌูู ุงูุฎุฑูุฌ ุงูุขูู</span>
                    </button>
                </nav>
            </div>
        </header>

        <!-- Statistics Section -->
        <section class="stats-section" role="region" aria-labelledby="stats-title">
            <h2 class="stats-title" id="stats-title">๐ ุฅุญุตุงุฆูุงุช ููุชุจุฉ ุฅูุฑุฃ ูุนูุง ุงูุขููุฉ ูุน MEGA</h2>
            <div class="stats-grid" role="group">
                <div class="stat-card" role="img" aria-label="ุฅุฌูุงูู ุงููุชุจ">
                    <div class="stat-icon" aria-hidden="true">๐</div>
                    <div class="stat-number" id="totalBooks" aria-live="polite">0</div>
                    <div class="stat-label">ุฅุฌูุงูู ุงููุชุจ ูู MEGA</div>
                </div>
                <div class="stat-card" role="img" aria-label="ุญุฌู ุงูููุชุจุฉ">
                    <div class="stat-icon" aria-hidden="true">๐พ</div>
                    <div class="stat-number" id="totalSize" aria-live="polite">0 MB</div>
                    <div class="stat-label">ุญุฌู ุงูููุชุจุฉ</div>
                </div>
                <div class="stat-card" role="img" aria-label="ูุฑูู ุงูุฅุฏุงุฑุฉ">
                    <div class="stat-icon" aria-hidden="true">๐ฅ</div>
                    <div class="stat-number" id="totalModerators" aria-live="polite">0</div>
                    <div class="stat-label">ูุฑูู ุงูุฅุฏุงุฑุฉ</div>
                </div>
                <div class="stat-card" role="img" aria-label="ุญุงูุฉ MEGA">
                    <div class="stat-icon mega-status" id="cloudStatusIcon" aria-hidden="true">โ๏ธ</div>
                    <div class="stat-number" id="cloudStatus" aria-live="polite">ุฌุงุฑู ุงูุงุชุตุงู ุจู MEGA...</div>
                    <div class="stat-label">MEGA Cloud Storage</div>
                </div>
                <div class="stat-card" role="img" aria-label="ูุณุชูู ุงูุฃูุงู">
                    <div class="stat-icon" aria-hidden="true">๐</div>
                    <div class="stat-number" id="securityLevel" aria-live="polite">AAA</div>
                    <div class="stat-label">ูุณุชูู ุงูุฃูุงู</div>
                </div>
                <div class="stat-card" role="img" aria-label="ุขุฎุฑ ุฅุถุงูุฉ">
                    <div class="stat-icon" aria-hidden="true">๐</div>
                    <div class="stat-number" id="lastUpload" aria-live="polite">-</div>
                    <div class="stat-label">ุขุฎุฑ ุฅุถุงูุฉ</div>
                </div>
            </div>
        </section>

        <!-- Admin Section -->
        <section class="admin-section" id="adminSection" role="region" aria-labelledby="admin-title">
            <div class="admin-header">
                <h2 id="admin-title">๐ก๏ธ ููุญุฉ ุฅุฏุงุฑุฉ ููุชุจุฉ ุฅูุฑุฃ ูุนูุง ุงูุขููุฉ ูุน MEGA</h2>
                <p>ุฅุฏุงุฑุฉ ูุชูุฏูุฉ ูุน ุฃุญุฏุซ ูุนุงููุฑ ุงูุฃูุงู ุงูุฑููู ูุชุฎุฒูู MEGA ุงูุณุญุงุจู ุงููุญูู</p>
            </div>

            <nav class="admin-tabs" role="tablist" aria-label="ุชุจููุจุงุช ุงูุฅุฏุงุฑุฉ">
                <button class="tab-btn active" 
                        onclick="switchTab('books')" 
                        data-tab="books"
                        role="tab"
                        aria-selected="true"
                        aria-controls="booksTab"
                        id="books-tab">
                    <i class="fas fa-book" aria-hidden="true"></i>
                    <span>ุฅุฏุงุฑุฉ ุงููุชุจ - MEGA</span>
                </button>
                <button class="tab-btn" 
                        onclick="switchTab('moderators')" 
                        id="moderatorsTabBtn" 
                        style="display: none;" 
                        data-tab="moderators"
                        role="tab"
                        aria-selected="false"
                        aria-controls="moderatorsTab">
                    <i class="fas fa-users" aria-hidden="true"></i>
                    <span>ุฅุฏุงุฑุฉ ุงููุดุฑููู</span>
                </button>
                <button class="tab-btn" 
                        onclick="switchTab('settings')" 
                        id="settingsTabBtn" 
                        style="display: none;" 
                        data-tab="settings"
                        role="tab"
                        aria-selected="false"
                        aria-controls="settingsTab">
                    <i class="fas fa-cog" aria-hidden="true"></i>
                    <span>ุงูุฅุนุฏุงุฏุงุช ุงูุขููุฉ</span>
                </button>
                <button class="tab-btn" 
                        onclick="switchTab('security')" 
                        id="securityTabBtn" 
                        style="display: none;" 
                        data-tab="security"
                        role="tab"
                        aria-selected="false"
                        aria-controls="securityTab">
                    <i class="fas fa-shield-alt" aria-hidden="true"></i>
                    <span>ูุฑุงูุจุฉ ุงูุฃูุงู</span>
                </button>
                <button class="tab-btn" 
                        onclick="switchTab('backup')" 
                        data-tab="backup"
                        role="tab"
                        aria-selected="false"
                        aria-controls="backupTab">
                    <i class="fas fa-cloud-download-alt" aria-hidden="true"></i>
                    <span>ุงููุณุฎ ุงูุงุญุชูุงุทู MEGA</span>
                </button>
            </nav>

            <!-- Books Management Tab -->
            <div class="tab-content active" id="booksTab" role="tabpanel" aria-labelledby="books-tab">
                <h3 style="text-align: center; margin-bottom: 25px; color: var(--text-primary);">
                    ๐ ุฅุถุงูุฉ ูุชุงุจ ุฌุฏูุฏ ุฅูู ุญุณุงุจ MEGA ุงูุฎุงุต ุจู
                </h3>
                
                <div class="upload-area" 
                     onclick="document.getElementById('fileInput').click()" 
                     ondrop="handleDrop(event)" 
                     ondragover="handleDragOver(event)" 
                     ondragleave="handleDragLeave(event)"
                     role="button"
                     tabindex="0"
                     aria-label="ููุทูุฉ ุฑูุน ุงููููุงุช ุฅูู MEGA - ุงุณุญุจ ููู PDF ููุง ุฃู ุงููุฑ ููุงุฎุชูุงุฑ"
                     onkeydown="if(event.key==='Enter'||event.key===' ') document.getElementById('fileInput').click()">
                    <div class="upload-icon" aria-hidden="true">๐๐</div>
                    <div class="upload-text">ุงุณุญุจ ููู PDF ููุง ุฃู ุงููุฑ ููุงุฎุชูุงุฑ</div>
                    <div class="upload-subtext">
                        ูุฏุนู ูููุงุช PDF ููุท - ุงูุญุฏ ุงูุฃูุตู: 100 ููุฌุงุจุงูุช
                        <br>
                        <small style="color: #D50000; font-weight: 600;">๐ด ุณูุชู ุฑูุนู ูุจุงุดุฑุฉ ุฅูู ุญุณุงุจ MEGA: abdelrahmenkeb+10@gmail.com</small>
                    </div>
                </div>
                
                <input type="file" 
                       id="fileInput" 
                       class="file-input" 
                       accept=".pdf" 
                       onchange="handleFileSelect(event)"
                       aria-label="ุงุฎุชูุงุฑ ููู PDF ููุฑูุน ุฅูู MEGA">
                
                <div class="form-group hidden" id="fileNameGroup">
                    <label for="fileNameInput" class="form-label">ุนููุงู ุงููุชุงุจ:</label>
                    <input type="text" 
                           id="fileNameInput" 
                           class="form-input" 
                           placeholder="ุนููุงู ุงููุชุงุจ" 
                           maxlength="100" 
                           pattern="[a-zA-Z0-9\u0600-\u06FF\s._-]+"
                           aria-describedby="filename-help">
                    <small id="filename-help" class="security-note">
                        ููุณูุญ ุจุงูุฃุญุฑู ุงูุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉ ูุงูุฃุฑูุงู ูุงูุฑููุฒ ุงูุขููุฉ ููุท
                    </small>
                </div>
                
                <div class="progress-container" id="progressContainer" role="progressbar" aria-live="polite">
                    <div class="progress-bar" id="progressBar">0%</div>
                </div>
                
                <div style="text-align: center; margin-top: 20px;">
                    <button class="btn mega-btn" 
                            id="uploadBtn" 
                            onclick="uploadFile()" 
                            disabled 
                            data-action="upload"
                            aria-label="ุฑูุน ุงููุชุงุจ ุจุฃูุงู ุฅูู MEGA">
                        <i class="fas fa-cloud-upload-alt" aria-hidden="true"></i>
                        <span>ุฑูุน ุขูู ุฅูู MEGA</span>
                    </button>
                    <button class="btn btn-secondary" 
                            onclick="clearSelection()" 
                            data-action="clear"
                            aria-label="ุฅูุบุงุก ุงูุชุญุฏูุฏ">
                        <i class="fas fa-times" aria-hidden="true"></i>
                        <span>ุฅูุบุงุก</span>
                    </button>
                    <button class="btn btn-info" 
                            onclick="reconnectCloud()" 
                            data-action="reconnect"
                            aria-label="ุฅุนุงุฏุฉ ุงูุงุชุตุงู ุจู MEGA">
                        <i class="fas fa-sync-alt" aria-hidden="true"></i>
                        <span>ุฅุนุงุฏุฉ ุงูุงุชุตุงู ุจู MEGA</span>
                    </button>
                </div>
                
                <div id="statusMessage" role="alert" aria-live="assertive"></div>
            </div>

            <!-- Moderators Management Tab -->
            <div class="tab-content" id="moderatorsTab" role="tabpanel" aria-labelledby="moderators-tab">
                <h3 style="text-align: center; margin-bottom: 25px; color: var(--text-primary);">
                    ๐ฅ ุฅุฏุงุฑุฉ ูุฑูู ุงูุนูู ุจุฃูุงู ูุชูุฏู
                </h3>
                
                <div style="background: var(--bg-accent); padding: 25px; border-radius: 16px; margin-bottom: 25px;">
                    <h4 style="margin-bottom: 20px;">ุฅุถุงูุฉ ูุดุฑู ุฌุฏูุฏ</h4>
                    <form onsubmit="event.preventDefault(); addModerator();" novalidate>
                        <div class="form-group">
                            <label for="newModUsername" class="form-label">ุงุณู ุงููุณุชุฎุฏู:</label>
                            <input type="text" 
                                   id="newModUsername" 
                                   class="form-input" 
                                   placeholder="ุงุณู ุงููุณุชุฎุฏู" 
                                   maxlength="50" 
                                   pattern="[a-zA-Z0-9_-]+"
                                   required
                                   aria-describedby="username-help">
                            <small id="username-help" class="security-note">
                                ุฃุญุฑู ุฅูุฌููุฒูุฉ ูุฃุฑูุงู ู_ ู- ููุท (3-50 ุญุฑู)
                            </small>
                        </div>
                        <div class="form-group">
                            <label for="newModPassword" class="form-label">ูููุฉ ุงููุฑูุฑ:</label>
                            <input type="password" 
                                   id="newModPassword" 
                                   class="form-input" 
                                   placeholder="ูููุฉ ูุฑูุฑ ูููุฉ" 
                                   minlength="8"
                                   required
                                   aria-describedby="password-help">
                            <small id="password-help" class="security-note">
                                8 ุฃุญุฑู ุนูู ุงูุฃูู ูุน ูุฒูุฌ ูู ุงูุฃุญุฑู ุงููุจูุฑุฉ ูุงูุตุบูุฑุฉ ูุงูุฃุฑูุงู ูุงูุฑููุฒ
                            </small>
                        </div>
                        <button type="submit" 
                                class="btn btn-success" 
                                data-action="add-moderator"
                                aria-label="ุฅุถุงูุฉ ูุดุฑู ุฌุฏูุฏ ูููุฑูู">
                            <i class="fas fa-user-plus" aria-hidden="true"></i>
                            <span>ุฅุถุงูุฉ ูููุฑูู ุจุฃูุงู</span>
                        </button>
                    </form>
                </div>
                
                <div id="moderatorsList" role="region" aria-label="ูุงุฆูุฉ ุงููุดุฑููู">
                    <div class="no-files">ูุง ููุฌุฏ ูุดุฑููู ูุณุฌููู ูู ุงููุธุงู</div>
                </div>
            </div>

            <!-- Settings Tab -->
            <div class="tab-content" id="settingsTab" role="tabpanel" aria-labelledby="settings-tab">
                <h3 style="text-align: center; margin-bottom: 25px; color: var(--text-primary);">
                    โ๏ธ ุงูุฅุนุฏุงุฏุงุช ุงูุขููุฉ ูุงููุชูุฏูุฉ ูุน MEGA
                </h3>
                
                <form onsubmit="event.preventDefault(); saveSettings();" novalidate>
                    <div style="background: var(--bg-accent); padding: 25px; border-radius: 16px;">
                        <div class="form-group">
                            <label for="maxFileSize" class="form-label">ุงูุญุฏ ุงูุฃูุตู ูุญุฌู ุงูููู (ููุฌุงุจุงูุช):</label>
                            <input type="number" 
                                   id="maxFileSize" 
                                   class="form-input" 
                                   value="100" 
                                   min="1" 
                                   max="500"
                                   required
                                   aria-describedby="filesize-help">
                            <small id="filesize-help" class="security-note">
                                ุงูููู ุงููุณููุญุฉ: 1-500 ููุฌุงุจุงูุช ูุญุณุงุจ MEGA ุงููุฌุงูู
                            </small>
                        </div>
                        
                        <div class="form-group">
                            <label for="newAdminPassword" class="form-label">ูููุฉ ูุฑูุฑ ุงูุฃุฏูู ุงูุฌุฏูุฏุฉ:</label>
                            <input type="password" 
                                   id="newAdminPassword" 
                                   class="form-input" 
                                   placeholder="ูููุฉ ูุฑูุฑ ูููุฉ ุฌุฏูุฏุฉ" 
                                   minlength="12"
                                   aria-describedby="admin-password-help">
                            <small id="admin-password-help" class="security-note">
                                12 ุญุฑู ุนูู ุงูุฃูู ูุน ูุฒูุฌ ูู ุงูุฃุญุฑู ูุงูุฃุฑูุงู ูุงูุฑููุฒ (ุงุชุฑููุง ูุงุฑุบุฉ ููุงุญุชูุงุธ ุจุงูุญุงููุฉ)
                            </small>
                        </div>
                        
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="allowPublicView" checked>
                                <span class="checkmark"></span>
                                ุงูุณูุงุญ ุจุงูุนุฑุถ ุงูุนุงู ูููุชุจ ูู MEGA
                            </label>
                        </div>
                        
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="enableSecurityLogging" checked>
                                <span class="checkmark"></span>
                                ุชูุนูู ุชุณุฌูู ุงูุฃูุดุทุฉ ุงูุฃูููุฉ
                            </label>
                        </div>
                        
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="enableRateLimit" checked>
                                <span class="checkmark"></span>
                                ุชูุนูู ุงูุญูุงูุฉ ูู ุงููุฌูุงุช ุงููุชูุฑุฑุฉ
                            </label>
                        </div>
                        
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="enableAutoBackup" checked>
                                <span class="checkmark"></span>
                                ุชูุนูู ุงููุณุฎ ุงูุงุญุชูุงุทู ุงูุชููุงุฆู ูู MEGA
                            </label>
                        </div>
                        
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="enableCloudStorage" checked disabled>
                                <span class="checkmark"></span>
                                ุชุฎุฒูู MEGA ุงูุณุญุงุจู (ููุนู ุฏุงุฆูุงู)
                            </label>
                        </div>
                        
                        <button type="submit" 
                                class="btn btn-success" 
                                data-action="save-settings"
                                aria-label="ุญูุธ ุฌููุน ุงูุฅุนุฏุงุฏุงุช">
                            <i class="fas fa-shield-alt" aria-hidden="true"></i>
                            <span>ุญูุธ ุงูุฅุนุฏุงุฏุงุช ุจุฃูุงู</span>
                        </button>
                    </div>
                </form>
            </div>

            <!-- Security Tab -->
            <div class="tab-content" id="securityTab" role="tabpanel" aria-labelledby="security-tab">
                <h3 style="text-align: center; margin-bottom: 25px; color: var(--text-primary);">
                    ๐ก๏ธ ูุฑุงูุจุฉ ุงูุฃูุงู ูุงูุญูุงูุฉ ุงููุชูุฏูุฉ ูุน MEGA
                </h3>
                
                <div class="security-monitoring">
                    <div class="security-card">
                        <h4>๐ ุฅุญุตุงุฆูุงุช ุงูุฃูุงู ุงููุจุงุดุฑุฉ</h4>
                        <div id="securityStats" role="region" aria-live="polite">
                            <div class="security-stat">
                                <span class="stat-label">ูุญุงููุงุช ุงูุฏุฎูู ุงููุดุจููุฉ:</span>
                                <span id="suspiciousAttempts" class="stat-value">0</span>
                            </div>
                            <div class="security-stat">
                                <span class="stat-label">ุขุฎุฑ ูุญุต ุฃููู:</span>
                                <span id="lastSecurityCheck" class="stat-value">ุงูุขู</span>
                            </div>
                            <div class="security-stat">
                                <span class="stat-label">ุญุงูุฉ ุงูุชุดููุฑ:</span>
                                <span id="encryptionStatus" class="stat-value status-active">ูุชูุฏู</span>
                            </div>
                            <div class="security-stat">
                                <span class="stat-label">ุญุงูุฉ MEGA:</span>
                                <span id="cloudStorageStatus" class="stat-value status-active">ูุชุตู ููุญูู</span>
                            </div>
                            <div class="security-stat">
                                <span class="stat-label">ูุณุชูู ุงูุญูุงูุฉ:</span>
                                <span id="protectionLevel" class="stat-value status-active">ุฃูุตู</span>
                            </div>
                        </div>
                        
                        <div style="margin-top: 20px;">
                            <button class="btn btn-info" onclick="app.runSecurityScan()" aria-label="ุชุดุบูู ูุญุต ุฃููู ุดุงูู">
                                <i class="fas fa-search" aria-hidden="true"></i>
                                <span>ูุญุต ุฃููู ุดุงูู</span>
                            </button>
                        </div>
                    </div>
                    
                    <div class="security-card">
                        <h4>๐ ุณุฌู ุงูุฃูุดุทุฉ ุงูุฃุฎูุฑุฉ</h4>
                        <div id="activityLog" role="log" aria-live="polite" aria-label="ุณุฌู ุงูุฃูุดุทุฉ ุงูุฃูููุฉ">
                            <div class="log-entry">ูุง ุชูุฌุฏ ุฃูุดุทุฉ ูุณุฌูุฉ</div>
                        </div>
                        
                        <div style="margin-top: 15px;">
                            <button class="btn btn-secondary" onclick="app.clearSecurityLog()" aria-label="ูุณุญ ุณุฌู ุงูุฃูุดุทุฉ">
                                <i class="fas fa-trash" aria-hidden="true"></i>
                                <span>ูุณุญ ุงูุณุฌู</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Backup Tab -->
            <div class="tab-content" id="backupTab" role="tabpanel" aria-labelledby="backup-tab">
                <h3 style="text-align: center; margin-bottom: 25px; color: var(--text-primary);">
                    ๐พ ุงููุณุฎ ุงูุงุญุชูุงุทู ูู MEGA Cloud ุงูุขูู
                </h3>
                
                <div style="text-align: center; margin-bottom: 30px;">
                    <button class="btn btn-success" 
                            onclick="exportData()" 
                            data-action="export"
                            aria-label="ุชุตุฏูุฑ ุฌููุน ุงูุจูุงูุงุช ูุดูุฑุฉ">
                        <i class="fas fa-cloud-download-alt" aria-hidden="true"></i>
                        <span>ุชุตุฏูุฑ ุขูู ูู MEGA</span>
                    </button>
                    <button class="btn btn-warning" 
                            onclick="document.getElementById('importFile').click()" 
                            data-action="import"
                            aria-label="ุงุณุชูุฑุงุฏ ุจูุงูุงุช ูู ููู ูุดูุฑ">
                        <i class="fas fa-cloud-upload-alt" aria-hidden="true"></i>
                        <span>ุงุณุชูุฑุงุฏ ุฅูู MEGA ุงูุขูู</span>
                    </button>
                    <button class="btn mega-btn" 
                            onclick="reconnectCloud()" 
                            data-action="reconnect"
                            aria-label="ุฅุนุงุฏุฉ ุงูุงุชุตุงู ุจู MEGA">
                        <i class="fas fa-sync-alt" aria-hidden="true"></i>
                        <span>ุฅุนุงุฏุฉ ุงูุงุชุตุงู ุจู MEGA</span>
                    </button>
                    <input type="file" 
                           id="importFile" 
                           style="display: none;" 
                           accept=".json" 
                           onchange="importData(event)"
                           aria-label="ุงุฎุชูุงุฑ ููู ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ">
                </div>
                
                <div style="background: var(--bg-accent); padding: 25px; border-radius: 16px;">
                    <h4 style="margin-bottom: 15px;">๐ ูุนูููุงุช ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ ูู MEGA:</h4>
                    <ul style="line-height: 1.8; color: var(--text-secondary);" role="list">
                        <li>๐ด <strong>ุญุณุงุจ MEGA:</strong> abdelrahmenkeb+10@gmail.com</li>
                        <li>๐ ุฌููุน ุงูุจูุงูุงุช ูุดูุฑุฉ ุจุชูููุฉ ูุชูุฏูุฉ ูุจู ุงูุฑูุน ุฅูู MEGA</li>
                        <li>โ๏ธ ุงูุชุฎุฒูู ุงูุณุญุงุจู MEGA ูุน ุชุดููุฑ ูู ุทุฑู ุฅูู ุทุฑู</li>
                        <li>โ ูุชู ุงูุชุญูู ูู ุณูุงูุฉ ููุฒุงูุฉ ุงููููุงุช ุงููุณุชูุฑุฏุฉ</li>
                        <li>๐ก๏ธ ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ ูุญููุฉ ุจูููุงุช ูุฑูุฑ ูููุฉ</li>
                        <li>๐ ุชุณุฌูู ุฌููุน ุนูููุงุช ุงููุณุฎ ุงูุงุญุชูุงุทู ูู ุงูุณุฌู ุงูุฃููู</li>
                        <li>๐ ูุญุต ุฃููู ุดุงูู ูููููุงุช ุงููุณุชูุฑุฏุฉ ูุจู ุงููุนุงูุฌุฉ</li>
                        <li>โฐ ูุณุฎ ุงุญุชูุงุทู ุชููุงุฆู ูู 3 ูุชุจ ูุถุงูุฉ ุฅูู MEGA</li>
                        <li>๐๏ธ ุญูุธ ุชุงุฑูุฎ ูุงูู ูููุณุฎ ุงูุงุญุชูุงุทูุฉ ูุน ุงูุชูููุช</li>
                        <li>๐ ุฅููุงููุฉ ุงููุตูู ูู ุฃู ููุงู ุจุฃูุงู ุชุงู ุนุจุฑ MEGA</li>
                        <li>๐ ูุฑุงูุจุฉ ุงุณุชุฎุฏุงู ูุณุงุญุฉ MEGA ูุงูุชูุจูู ุนูุฏ ุงูุชูุงุคูุง</li>
                    </ul>
                    
                    <div style="margin-top: 20px; padding: 15px; background: rgba(213, 0, 0, 0.1); border-radius: 8px; border: 1px solid rgba(213, 0, 0, 0.3);">
                        <strong style="color: #D50000;">๐ก ูุนูููุงุช MEGA:</strong>
                        <p style="margin-top: 8px; font-size: 0.9rem;">
                            ุฌููุน ูููุงุชู ูุญููุธุฉ ุจุฃูุงู ูู ุญุณุงุจ MEGA ุงูุฎุงุต ุจู ูุน ุชุดููุฑ ูุชูุฏู ูุญูุงูุฉ ุดุงููุฉ.
                            ุงููุณุงุญุฉ ุงููุฌุงููุฉ: 15 ุฌูุฌุงุจุงูุช
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Files Section -->
        <main class="files-section" role="main" aria-labelledby="files-title">
            <h2 class="section-title" id="files-title">๐ ููุชุจุฉ ุฅูุฑุฃ ูุนูุง ุงูุขููุฉ - ุงููุชุจ ุงููุญููุธุฉ ูู MEGA</h2>
            
            <div class="search-controls" role="search">
                <label for="searchBox" class="sr-only">ุงูุจุญุซ ูู ุงูููุชุจุฉ</label>
                <input type="text" 
                       id="searchBox"
                       class="search-box" 
                       placeholder="๐ ุงุจุญุซ ุจุฃูุงู ูู ููุชุจุฉ ุฅูุฑุฃ ูุนูุง ูู MEGA..." 
                       oninput="searchFiles(this.value)" 
                       maxlength="100"
                       aria-label="ุงูุจุญุซ ูู ุงููุชุจ ูุงููููุงุช ุงููุญููุธุฉ ูู MEGA">
                
                <label for="sortSelect" class="sr-only">ุชุฑุชูุจ ุงููุชุงุฆุฌ</label>
                <select id="sortSelect" class="sort-select" onchange="sortFiles(this.value)" aria-label="ุชุฑุชูุจ ุงููุชุจ">
                    <option value="name-asc">ุชุฑุชูุจ ุญุณุจ ุงูุงุณู (ุฃ-ู)</option>
                    <option value="name-desc">ุชุฑุชูุจ ุญุณุจ ุงูุงุณู (ู-ุฃ)</option>
                    <option value="date-desc">ุงูุฃุญุฏุซ ุฃููุงู</option>
                    <option value="date-asc">ุงูุฃูุฏู ุฃููุงู</option>
                    <option value="size-desc">ุงูุฃูุจุฑ ุญุฌูุงู ุฃููุงู</option>
                    <option value="size-asc">ุงูุฃุตุบุฑ ุญุฌูุงู ุฃููุงู</option>
                </select>
            </div>
            
            <div class="files-grid" id="filesGrid" role="grid" aria-label="ุดุจูุฉ ุงููุชุจ ูุงููููุงุช ูู MEGA">
                <div class="no-files" role="status">
                    <i class="fas fa-cloud" style="font-size: 3rem; margin-bottom: 20px; color: #D50000;" aria-hidden="true"></i>
                    <br>
                    ูุฑุญุจุงู ุจู ูู ููุชุจุฉ ุฅูุฑุฃ ูุนูุง ุงูุขููุฉ!
                    <br>
                    ูุง ุชูุฌุฏ ูุชุจ ูุชุงุญุฉ ุญุงููุงูุ ูู ุจุชุณุฌูู ุงูุฏุฎูู ุงูุขูู ูุฅุถุงูุฉ ูุชุจ ุฌุฏูุฏุฉ
                    <br>
                    <small style="color: #D50000; font-weight: 500;">ุฌููุน ุงููุชุจ ูุญููุธุฉ ุจุฃูุงู ูู ุญุณุงุจ MEGA ุงูุฎุงุต ุจู</small>
                </div>
            </div>
        </main>
    </div>

    <!-- Login Modal -->
    <div class="modal" id="loginModal" role="dialog" aria-labelledby="loginTitle" aria-hidden="true">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="loginTitle">๐ ุชุณุฌูู ุงูุฏุฎูู ุงูุขูู ูุฅุฏุงุฑุฉ MEGA</h3>
            </div>
            
            <form onsubmit="event.preventDefault(); login();" novalidate>
                <div class="form-group hidden" id="usernameGroup">
                    <label for="loginUsername" class="form-label">ุงุณู ุงููุณุชุฎุฏู:</label>
                    <input type="text" 
                           id="loginUsername" 
                           class="form-input" 
                           placeholder="ุงุณู ุงููุณุชุฎุฏู" 
                           maxlength="50" 
                           autocomplete="username"
                           aria-describedby="username-login-help">
                    <small id="username-login-help" class="security-note">
                        ุฃุฏุฎู ุงุณู ุงููุณุชุฎุฏู ุงููุฎุตุต ูู
                    </small>
                </div>
                
                <div class="form-group">
                    <label for="loginPassword" class="form-label">ูููุฉ ุงููุฑูุฑ:</label>
                    <input type="password" 
                           id="loginPassword" 
                           class="form-input" 
                           placeholder="ูููุฉ ุงููุฑูุฑ" 
                           autocomplete="current-password"
                           required
                           aria-describedby="password-login-help">
                    <small id="password-login-help" class="security-note">
                        ุฃุฏุฎู ูููุฉ ุงููุฑูุฑ ุงูุขููุฉ (ุงูุฃุฏูู: admin123)
                    </small>
                </div>
                
                <div class="security-info" role="note" style="background: rgba(213, 0, 0, 0.1); border: 1px solid rgba(213, 0, 0, 0.3);">
                    <i class="fas fa-shield-alt" aria-hidden="true"></i>
                    <small>๐ ุฌููุน ุงูุจูุงูุงุช ูุดูุฑุฉ ููุญููุฉ ุจุฃุญุฏุซ ูุนุงููุฑ ุงูุฃูุงู ูุน MEGA</small>
                </div>
                
                <div style="text-align: center; margin-top: 20px;">
                    <button type="submit" 
                            class="btn mega-btn" 
                            data-action="login"
                            aria-label="ุชุณุฌูู ุงูุฏุฎูู ุงูุขูู">
                        <i class="fas fa-shield-alt" aria-hidden="true"></i>
                        <span>ุฏุฎูู ุขูู ููู MEGA</span>
                    </button>
                    <button type="button" 
                            class="btn btn-secondary" 
                            onclick="closeLoginModal()" 
                            data-action="cancel"
                            aria-label="ุฅูุบุงุก ุชุณุฌูู ุงูุฏุฎูู">
                        <i class="fas fa-times" aria-hidden="true"></i>
                        <span>ุฅูุบุงุก</span>
                    </button>
                </div>
            </form>
            
            <div id="loginMessage" role="alert" aria-live="assertive"></div>
        </div>
    </div>

    <!-- PDF Viewer -->
    <div class="pdf-viewer" id="pdfViewer" role="dialog" aria-labelledby="pdfTitle" aria-hidden="true">
        <div class="pdf-header">
            <h3 id="pdfTitle">๐ ูุงุฑุฆ ููุชุจุฉ ุฅูุฑุฃ ูุนูุง ุงูุขูู ูู MEGA</h3>
            <div class="pdf-controls" role="toolbar" aria-label="ุฃุฏูุงุช ุนุงุฑุถ PDF">
                <button class="btn btn-secondary" 
                        onclick="printPdf()" 
                        data-action="print"
                        aria-label="ุทุจุงุนุฉ ุงูููู ุงูุญุงูู">
                    <i class="fas fa-print" aria-hidden="true"></i>
                    <span>ุทุจุงุนุฉ ุขููุฉ</span>
                </button>
                <button class="btn mega-btn" 
                        onclick="downloadCurrentPdf()" 
                        data-action="download"
                        aria-label="ุชุญููู ุงูููู ุงูุญุงูู ูู MEGA">
                    <i class="fas fa-cloud-download-alt" aria-hidden="true"></i>
                    <span>ุชุญููู ูู MEGA</span>
                </button>
                <button class="btn btn-danger" 
                        onclick="closePdfViewer()" 
                        data-action="close"
                        aria-label="ุฅุบูุงู ุนุงุฑุถ PDF">
                    <i class="fas fa-times" aria-hidden="true"></i>
                    <span>ุฅุบูุงู</span>
                </button>
            </div>
        </div>
        <iframe class="pdf-frame" 
                id="pdfFrame" 
                sandbox="allow-same-origin allow-scripts allow-popups allow-forms"
                title="ุนุงุฑุถ PDF ูู MEGA"
                aria-label="ูุญุชูู ุงููุชุงุจ ูู MEGA"></iframe>
    </div>

    <!-- Loading Indicator -->
    <div class="loading-overlay" id="loadingOverlay" style="display: none;" role="status" aria-label="ุฌุงุฑู ุงูุชุญููู">
        <div class="loading-spinner">
            <i class="fas fa-cloud fa-spin" aria-hidden="true" style="color: #D50000;"></i>
            <p>ุฌุงุฑู ุชุญููู ุงููุธุงู ุงูุขูู ูุน MEGA...</p>
        </div>
    </div>

    <!-- JavaScript -->
    <script src="script.js"></script>
    
    <!-- Security and Performance Scripts -->
    <script>
        // ุงูุชุญูู ูู ุชุญููู ุงูุณูุฑูุจุช ุจุฃูุงู
        document.addEventListener('DOMContentLoaded', function() {
            // ุฅุธูุงุฑ ูุคุดุฑ ุงูุชุญููู
            const loadingOverlay = document.getElementById('loadingOverlay');
            if (loadingOverlay) {
                loadingOverlay.style.display = 'flex';
            }
            
            // ุงูุชุญูู ูู ุชุญููู ุงููุธุงู
            setTimeout(() => {
                if (typeof SecureDigitalLibrary === 'undefined' || typeof PureMegaStorage === 'undefined') {
                    console.error('Security Error: Main script failed to load');
                    document.body.innerHTML = `
                        <div style="text-align:center;padding:50px;color:red;font-family:Arial;">
                            <h2>โ๏ธ ุฎุทุฃ ูู ุชุญููู ุงููุธุงู ุงูุฃููู</h2>
                            <p>ูุดู ูู ุชุญููู ุงูููููุงุช ุงูุฃุณุงุณูุฉ ูููุธุงู ูุน MEGA</p>
                            <button onclick="location.reload()" style="padding:10px 20px;margin-top:20px;background:#D50000;color:white;border:none;border-radius:5px;">
                                ุฅุนุงุฏุฉ ุงููุญุงููุฉ
                            </button>
                        </div>
                    `;
                } else {
                    // ุฅุฎูุงุก ูุคุดุฑ ุงูุชุญููู
                    if (loadingOverlay) {
                        loadingOverlay.style.display = 'none';
                    }
                    console.log('โ ุชู ุชุญููู ููุชุจุฉ ุฅูุฑุฃ ูุนูุง ุงูุขููุฉ ูุน MEGA ุจูุฌุงุญ');
                }
            }, 3000);
        });

        // ุญูุงูุฉ ุฅุถุงููุฉ ูู ุงูุชูุงุนุจ
        setInterval(() => {
            // ูุญุต ุชูุงุนุจ DOM
            const criticalElements = ['adminSection', 'loginModal', 'securityStatus', 'cloudStatus'];
            criticalElements.forEach(id => {
                const element = document.getElementById(id);
                if (element && element.dataset.tampered) {
                    location.reload();
                }
            });
        }, 5000);

        // ุญูุงูุฉ ุฎุงุตุฉ ููุนูููุงุช MEGA
        Object.defineProperty(window, 'MEGA_CREDENTIALS', {
            value: undefined,
            writable: false,
            configurable: false
        });
    </script>

    <!-- Schema.org Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "ุฅูุฑุฃ ูุนูุง - ููุชุจุฉ ุฑูููุฉ ุขููุฉ ูุน MEGA",
        "description": "ููุชุจุฉ ุฑูููุฉ ูุชุทูุฑุฉ ูุขููุฉ ูุฅุฏุงุฑุฉ ููุดุงุฑูุฉ ุงููุชุจ ูุงููููุงุช ูุน ุชุฎุฒูู MEGA ุงูุณุญุงุจู ุงููุญูู",
        "url": "https://iqra-ma3na.github.io",
        "applicationCategory": "EducationalApplication",
        "operatingSystem": "Web Browser",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
        },
        "author": {
            "@type": "Organization",
            "name": "ูุฑูู ุฅูุฑุฃ ูุนูุง"
        },
        "security": {
            "@type": "SecurityFeature",
            "name": "ุชุดููุฑ ูุชูุฏู ูุชุฎุฒูู MEGA ุงูุณุญุงุจู ุงูุขูู"
        },
        "cloudProvider": {
            "@type": "Service",
            "name": "MEGA Cloud Storage",
            "description": "ุชุฎุฒูู ุณุญุงุจู ุขูู ููุดูุฑ"
        }
    }
    </script>
</body>
</html>
