<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>๐ ููุชุจุฉ ุฅูุฑุฃ ูุนูุง - ูุฑุงุกุฉ ูุฌุงููุฉ ููุฌููุน</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- ูุคุดุฑ ุงูุฃูุงู -->
    <div class="security-status">
        ๐ ูุธุงู ุขูู ูุน MEGA
    </div>

    <!-- ุญุงูุฉ ุงูุงุชุตุงู ุจู MEGA -->
    <div class="cloud-status" id="cloudStatusContainer">
        <span id="cloudStatusIcon">โณ</span>
        <div id="cloudStatus">ุฌุงุฑู ุงูุงุชุตุงู ุจู MEGA...</div>
    </div>

    <div class="container">
        <!-- ุงูุฑุฃุณ -->
        <header class="header">
            <div class="header-content">
                <div class="logo">
                    <h1>๐ ููุชุจุฉ ุฅูุฑุฃ ูุนูุง</h1>
                    <p class="tagline">๐ ูุฑุงุกุฉ ูุฌุงููุฉ ููุฌููุน - ุชุฎุฒูู ุขูู ูุน MEGA</p>
                    <p class="subtitle">ุงุณุชูุชุน ุจูุฑุงุกุฉ ุงููุชุจ ูุฌุงูุงู | ุฅุฏุงุฑุฉ ุขููุฉ ูููุดุฑููู</p>
                </div>
                <div class="auth-section">
                    <button class="auth-btn" onclick="showLoginModal('admin')">
                        <i class="fas fa-user-shield"></i>
                        ุฏุฎูู ุงูุฃุฏูู
                    </button>
                    <button class="auth-btn" onclick="showLoginModal('moderator')">
                        <i class="fas fa-user-edit"></i>
                        ุฏุฎูู ุงููุดุฑู
                    </button>
                    <button class="auth-btn logout-btn" onclick="logout()" style="display: none;">
                        <i class="fas fa-sign-out-alt"></i>
                        ุชุณุฌูู ุฎุฑูุฌ ุขูู
                    </button>
                </div>
            </div>
        </header>

        <!-- ุงูุฅุญุตุงุฆูุงุช -->
        <section class="stats-section">
            <h2 class="stats-title">๐ ุฅุญุตุงุฆูุงุช ุงูููุชุจุฉ</h2>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">๐</div>
                    <div class="stat-number" id="totalBooks">0</div>
                    <div class="stat-label">ุฅุฌูุงูู ุงููุชุจ</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">๐พ</div>
                    <div class="stat-number" id="totalSize">0 ุจุงูุช</div>
                    <div class="stat-label">ูุณุงุญุฉ ูุณุชุฎุฏูุฉ</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon mega-status">โ๏ธ</div>
                    <div class="stat-number mega-status" id="megaStatus">MEGA</div>
                    <div class="stat-label">ุงูุชุฎุฒูู ุงูุณุญุงุจู</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">๐</div>
                    <div class="stat-number" id="securityLevel">AAA</div>
                    <div class="stat-label">ูุณุชูู ุงูุฃูุงู</div>
                </div>
            </div>
        </section>

        <!-- ูุณู ุงูุฅุฏุงุฑุฉ -->
        <section class="admin-section" id="adminSection">
            <div class="admin-header">
                <h2>๐ก๏ธ ููุญุฉ ุงูุชุญูู ุงูุขููุฉ</h2>
                <p>ุฅุฏุงุฑุฉ ูุชูุฏูุฉ ูุน ุชุดููุฑ ูุญูุงูุฉ MEGA</p>
            </div>

            <div class="admin-tabs">
                <button class="tab-btn active" data-tab="upload" onclick="switchTab('upload')">
                    <i class="fas fa-cloud-upload-alt"></i>
                    ุฑูุน ูุชุงุจ ุฌุฏูุฏ
                </button>
                <button class="tab-btn" data-tab="moderators" onclick="switchTab('moderators')" id="moderatorsTabBtn">
                    <i class="fas fa-users"></i>
                    ุฅุฏุงุฑุฉ ุงููุดุฑููู
                </button>
                <button class="tab-btn" data-tab="settings" onclick="switchTab('settings')" id="settingsTabBtn">
                    <i class="fas fa-cog"></i>
                    ุฅุนุฏุงุฏุงุช ุงููุธุงู
                </button>
            </div>

            <div class="tab-content active" id="uploadTab">
                <div class="upload-area" onclick="document.getElementById('fileInput').click()"
                     ondrop="handleDrop(event)" ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)">
                    <div class="upload-icon">โ๏ธ</div>
                    <div class="upload-text">ุงุณุญุจ ูุฃููุช ููู PDF ููุง ุฃู ุงููุฑ ููุงุฎุชูุงุฑ</div>
                    <div class="upload-subtext">ุณูุชู ุฑูุน ุงูููู ูุจุงุดุฑุฉ ุฅูู ุญุณุงุจ MEGA ุงูุขูู<br>ุงูุญุฏ ุงูุฃูุตู: 100 ููุฌุงุจุงูุช</div>
                    <input type="file" id="fileInput" class="file-input" accept=".pdf" onchange="handleFileSelect(event)">
                </div>

                <div class="form-group hidden" id="fileNameGroup">
                    <label for="fileNameInput" class="form-label">๐ ุงุณู ุงููุชุงุจ:</label>
                    <input type="text" id="fileNameInput" class="form-input" placeholder="ุฃุฏุฎู ุงุณู ุงููุชุงุจ...">
                </div>

                <button class="btn mega-btn" id="uploadBtn" onclick="uploadFile()" disabled>
                    <i class="fas fa-cloud-upload-alt"></i>
                    ุฑูุน ุฅูู MEGA ุงูุขูู
                </button>

                <div class="progress-container" id="progressContainer">
                    <div class="progress-bar" id="progressBar">0%</div>
                </div>
            </div>

            <div class="tab-content" id="moderatorsTab">
                <h3>๐ฅ ุฅุถุงูุฉ ูุดุฑู ุฌุฏูุฏ</h3>
                <div class="form-group">
                    <label for="newModUsername" class="form-label">๐ค ุงุณู ุงููุณุชุฎุฏู:</label>
                    <input type="text" id="newModUsername" class="form-input" placeholder="ุงุณู ูุณุชุฎุฏู ูุฑูุฏ...">
                </div>
                <div class="form-group">
                    <label for="newModPassword" class="form-label">๐ ูููุฉ ุงููุฑูุฑ:</label>
                    <input type="password" id="newModPassword" class="form-input" placeholder="ูููุฉ ูุฑูุฑ ูููุฉ...">
                </div>
                <button class="btn btn-success" onclick="addModerator()">
                    <i class="fas fa-user-plus"></i>
                    ุฅุถุงูุฉ ูุดุฑู ุขูู
                </button>

                <h3 style="margin-top: 2rem;">๐ ูุงุฆูุฉ ุงููุดุฑููู</h3>
                <div id="moderatorsList"></div>
            </div>

            <div class="tab-content" id="settingsTab">
                <h3>โ๏ธ ุฅุนุฏุงุฏุงุช ุงููุธุงู</h3>
                <div class="form-group">
                    <label for="maxFileSize" class="form-label">๐ ุงูุญุฏ ุงูุฃูุตู ูุญุฌู ุงูููู (ููุฌุงุจุงูุช):</label>
                    <input type="number" id="maxFileSize" class="form-input" value="100" min="1" max="500">
                </div>
                
                <div class="form-group">
                    <label for="newAdminPassword" class="form-label">๐ ุชุบููุฑ ูููุฉ ูุฑูุฑ ุงูุฃุฏูู:</label>
                    <input type="password" id="newAdminPassword" class="form-input" placeholder="ูููุฉ ูุฑูุฑ ุฌุฏูุฏุฉ (ุงุฎุชูุงุฑู)...">
                </div>

                <div class="form-group">
                    <label class="checkbox-label">
                        <input type="checkbox" id="allowPublicView" checked>
                        <span class="checkmark"></span>
                        ุงูุณูุงุญ ููุฒูุงุฑ ุจูุดุงูุฏุฉ ุงููุชุจ
                    </label>
                </div>

                <div class="form-group">
                    <label class="checkbox-label">
                        <input type="checkbox" id="enableSecurityLogging" checked>
                        <span class="checkmark"></span>
                        ุชูุนูู ุณุฌู ุงูุฃูุงู
                    </label>
                </div>

                <button class="btn mega-btn" onclick="saveSettings()">
                    <i class="fas fa-save"></i>
                    ุญูุธ ูู MEGA ุงูุขูู
                </button>

                <div class="security-info">
                    <i class="fas fa-info-circle"></i>
                    ุฌููุน ุงูุฅุนุฏุงุฏุงุช ูุญููุธุฉ ุจุฃูุงู ูู ุญุณุงุจ MEGA ูุน ุชุดููุฑ ูุชูุฏู
                </div>
            </div>
        </section>

        <!-- ูุณู ุนุฑุถ ุงููุชุจ -->
        <section class="files-section">
            <h2 class="section-title">๐ ููุชุจุฉ ุฅูุฑุฃ ูุนูุง ุงูููุชูุญุฉ</h2>
            <p style="text-align: center; color: var(--text-secondary); margin-bottom: 2rem;">
                ๐ ุงูุฑุฃ ูุงุณุชูุชุน ุจุงููุชุจ ูุฌุงูุงู - ๐ ุฅุฏุงุฑุฉ ุขููุฉ ูููุดุฑููู
            </p>

            <div class="search-controls">
                <input type="text" class="search-box" placeholder="๐ ุงุจุญุซ ูู ุงูููุชุจุฉ..." 
                       onkeyup="searchFiles(this.value)">
                <select class="sort-select" onchange="sortFiles(this.value)">
                    <option value="name-asc">๐ ุงูุงุณู (ุฃ-ู)</option>
                    <option value="name-desc">๐ ุงูุงุณู (ู-ุฃ)</option>
                    <option value="date-desc">๐ ุงูุฃุญุฏุซ ุฃููุงู</option>
                    <option value="date-asc">๐ ุงูุฃูุฏู ุฃููุงู</option>
                    <option value="size-desc">๐ ุงูุฃูุจุฑ ุญุฌูุงู</option>
                    <option value="size-asc">๐ ุงูุฃุตุบุฑ ุญุฌูุงู</option>
                </select>
            </div>

            <div id="filesGrid" class="files-grid">
                <div class="no-files">
                    <i class="fas fa-book-open" style="font-size: 3rem; margin-bottom: 20px; color: #0891B2;"></i>
                    <br>๐ ูุง ุชูุฌุฏ ูุชุจ ุญุงููุงู ูู ุงูููุชุจุฉ
                    <br><small>๐ ุงููุดุฑููู ููุท ูููููู ุฅุถุงูุฉ ูุชุจ ุฌุฏูุฏุฉ</small>
                </div>
            </div>
        </section>
    </div>

    <!-- ูุงูุฐุฉ ุชุณุฌูู ุงูุฏุฎูู -->
    <div class="modal" id="loginModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="loginTitle">๐ ุชุณุฌูู ุฏุฎูู ุขูู</h3>
            </div>
            
            <div class="form-group" id="usernameGroup">
                <label for="loginUsername" class="form-label">๐ค ุงุณู ุงููุณุชุฎุฏู:</label>
                <input type="text" id="loginUsername" class="form-input" placeholder="ุฃุฏุฎู ุงุณู ุงููุณุชุฎุฏู...">
            </div>
            
            <div class="form-group">
                <label for="loginPassword" class="form-label">๐ ูููุฉ ุงููุฑูุฑ:</label>
                <input type="password" id="loginPassword" class="form-input" placeholder="ุฃุฏุฎู ูููุฉ ุงููุฑูุฑ...">
            </div>
            
            <div id="loginMessage" class="status-message" style="display: none;"></div>
            
            <div style="display: flex; gap: 1rem; margin-top: 1.5rem;">
                <button class="btn mega-btn" onclick="login()">
                    <i class="fas fa-sign-in-alt"></i>
                    ุฏุฎูู ุขูู
                </button>
                <button class="btn btn-secondary" onclick="closeLoginModal()">
                    <i class="fas fa-times"></i>
                    ุฅูุบุงุก
                </button>
            </div>

            <div class="security-info" style="margin-top: 1rem;">
                <i class="fas fa-shield-alt"></i>
                ุชุณุฌูู ุฏุฎูู ุขูู ูุน ุชุดููุฑ ูุชูุฏู ูุญูุงูุฉ MEGA
            </div>
        </div>
    </div>

    <!-- ุนุงุฑุถ PDF -->
    <div class="pdf-viewer" id="pdfViewer">
        <div class="pdf-header">
            <h3 id="pdfTitle">๐ ุนุงุฑุถ ุงููุชุจ ูู MEGA</h3>
            <div class="pdf-controls">
                <button class="btn btn-success" onclick="downloadCurrentPdf()">
                    <i class="fas fa-download"></i>
                    ุชุญููู ูู MEGA
                </button>
                <button class="btn btn-secondary" onclick="closePdfViewer()">
                    <i class="fas fa-times"></i>
                    ุฅุบูุงู
                </button>
            </div>
        </div>
        <iframe id="pdfFrame" class="pdf-frame"></iframe>
    </div>

    <!-- ุฑุณุงุฆู ุงูุญุงูุฉ -->
    <div id="statusMessage" class="status-message" style="display: none;"></div>

    <script src="script.js"></script>
</body>
</html>
